# 著作権・ライセンス 重大教訓サマリー

**目的**: jsbsim-xml-generator公開時の重大不始末から学ぶ、著作権問題の深刻さと再発防止策
**対象**: jsbsim-flightgear-guide で作業するすべてのClaude Codeセッション
**重要度**: CRITICAL - 本プロジェクトで同じ過ちを**絶対に繰り返さない**
**作成日**: 2025-10-20
**元資料**: `C:\Users\xprin\github\tech-research-portfolio\...\CRITICAL_FAILURE_REPORT_GITHUB_PUBLICATION.md`

---

## ⚠️ このドキュメントを必ず読んでください

**2025-10-19に重大な不始末が発生しました。**

- jsbsim-xml-generator公開直後、LICENSE内に虚偽の第三者データ参照記載が発覚
- ユーザーから「存在すら許されない」と指摘
- Git履歴完全削除・リポジトリ再公開を余儀なくされた

**本プロジェクト（jsbsim-flightgear-guide）では、同じ過ちを繰り返さないこと。**

---

## 🚨 不始末の概要

### 発生日時・経緯

| 時刻 | イベント | ユーザー反応 |
|------|---------|------------|
| 2025-10-19 21:00 | GitHub公開完了（v1.0） | - |
| 21:05 | ユーザー指摘「MIT License適切か？」 | LICENSE確認 |
| 21:06 | LICENSE内Rascal参照発覚 | 問題発覚 |
| 21:10 | **ユーザー指摘「存在すら許されない」** | 全ファイル精査開始 |
| 21:15 | docs/external_data/ 大規模残存発覚 | 削除作業開始 |
| 21:30 | **ユーザー指摘「修正履歴すら公開されてはならない」** | **Git履歴完全削除決定** |
| 22:00 | Git履歴完全削除・再公開完了 | クリーンな状態に |

### 重大度評価

**ユーザーのフィードバック**:

- 「この間違いは**存在すら許されない**」
- 「**修正履歴すら公開されてはならない**」

→ **Git履歴を完全削除し、問題の痕跡を消去する必要があった。**

---

## 📌 4つの重大な不始末

### 不始末 #1: LICENSE内のRascal参照矛盾（最重要）

**問題内容**:

- LICENSE Line 52-57に「ArduPilot Rascal Aerodynamic Coefficients (Reference Data)」と記載
- しかし、実際のコードではRascalデータを**使用していない**（既に削除済み）
- **虚偽の宣言**がLICENSEに残存

**なぜ問題か**:

- MIT LicenseとGPL-3.0データ参照の矛盾
- 使っていないデータを「使用している」と宣言 → 虚偽
- 第三者が混乱する

**根本原因**:

- ソースコード・ドキュメントは修正したが、**LICENSEを修正対象から漏らした**
- 検証スクリプトがLICENSEをチェックしていなかった

---

### 不始末 #2: docs/external_data/ の大規模Rascal参照残存

**問題内容**:

- docs/external_data/arduipilot_sitl_setup.md: Line 65-99全体がRascal参照
- docs/external_data/README.md: ライセンステーブルに「ArduPilot Rascal GPL-3.0」
- **合計11箇所**のRascal参照、**28箇所**のArduPilot参照

**なぜ問題か**:

- Rascalデータを使用していないのに、「参照方法」を説明するドキュメントが存在 → 矛盾
- 検証スクリプトがこのディレクトリを**除外**していたため、検出されなかった

**根本原因**:

- **verify_copyright_compliance.sh Line 92**: `grep -v "docs/external_data/"`で除外
- 「参照方法説明だから除外」という誤った判断
- しかし、使っていないデータの参照方法を説明すること自体が矛盾

---

### 不始末 #3: コミットメッセージの不適切な記述

**問題内容**:

- Initial commit messageに「Rascal/ArduPilot等の第三者データ参照なし」と記載
- この記述により、**問題があったことを示唆**してしまう

**なぜ問題か**:

- 第三者が読んだ場合、「なぜわざわざRascal/ArduPilotを名指しで否定するのか？」と疑念を抱く
- コミットメッセージは永久に残る → 修正不可
- Git履歴完全削除以外に対処法なし

**対処**:

- 「データソース: 典型的な小型固定翼機の値を採用」に変更
- 問題を示唆する記述を完全削除

---

### 不始末 #4: 検証スクリプトの設計ミス

**問題内容**:

- verify_copyright_compliance.sh が以下を除外/未検証:
  - `docs/external_data/` ディレクトリ
  - LICENSE ファイル

**根本原因**:

- 「参照方法説明だから除外」という誤った判断
- LICENSE検証の重要性を認識していなかった

**影響**:

- スクリプトが「合格」と表示 → 安心してしまう
- 実際には重大な問題が残存していた

---

## 💡 本プロジェクトへの教訓

### 教訓1: 検証の例外を作ってはならない

**学び**:

- 「このディレクトリは除外して良い」という判断は危険
- **すべてのファイル**を検証対象に含める
- 特にLICENSE、README.mdは**必ず**確認

**本プロジェクトでの適用**:

- 記事作成時、第三者コンテンツ使用時は**全ファイル**をチェック
- .gitignoreで除外されているファイルも含めて確認
- 「このファイルは大丈夫」という思い込みを排除

---

### 教訓2: 検証スクリプトは万能ではない

**学び**:

- スクリプトが「合格」でも、設計ミスがあれば誤検出する
- 最終確認は**手動全文grep**で二重確認

**本プロジェクトでの適用**:

- 自動チェックツールを過信しない
- Phase 3（公開準備）時は、手動で全ファイルを目視確認
- 特に第三者が参照するドキュメント（README, LICENSE等）は慎重に

---

### 教訓3: コミットメッセージは永久に残る

**学び**:

- 問題を示唆する記述は**絶対に避ける**
- 「〜なし」「〜削除」等の否定表現は、問題があったことを示唆する
- 第三者が読んで疑念を抱く表現は使用しない

**本プロジェクトでの適用**:

- コミットメッセージは肯定的・建設的に
- 例: ❌ 「第三者コンテンツ参照なし」 → ✅ 「オリジナルコンテンツで構成」
- コミット前に**第三者視点**でメッセージをレビュー

---

### 教訓4: 虚偽の情報は「存在すら許されない」

**学び**:

- 使っていないのに「使用している」と記載 → 虚偽
- 使っているのに「使用していない」と記載 → 虚偽
- どちらも**同じレベルの重大問題**

**本プロジェクトでの適用**:

- 第三者コンテンツ使用時は、**正確に**出典・ライセンスを記載
- 使っていないものは記載しない（当然だが徹底する）
- LICENSE、README等の重要ファイルは特に慎重に

---

### 教訓5: 段階的修正の落とし穴

**学び**:

- 段階的に修正すると、全体の整合性確認が疎かになる
- 最終段階で**全体を俯瞰**して確認する必要がある

**本プロジェクトでの適用**:

- Phase移行時、全ドキュメントの整合性を確認
- 特にPhase 2→3（コンテンツ作成→公開準備）時は厳格に
- チェックリストを作成し、漏れなく確認

---

## 🔴 本プロジェクトでの厳守事項

### 記事執筆時（Phase 2）

1. **第三者コンテンツ引用時のルール**
   - 必ず出典URL・ライセンスを明記
   - 引用範囲を明確に（引用部分と独自解説を区別）
   - 不明な場合は使用せず、ユーザーに確認

2. **jsbsim-xml-generatorへの言及**
   - 必ずGitHub URLを記載
   - MIT Licenseであることを明記
   - 「自作ツール」と明確に

3. **jsbsim_investigationの資産活用**
   - 直接コピーせず、記事用に再構成
   - 技術的エッセンスのみ活用
   - 元資産を公開しない

### 公開前確認（Phase 3）

1. **全ドキュメント確認**
   - README.md, LICENSE（該当する場合）
   - すべてのMarkdown記事
   - 設定ファイル（公開対象のみ）

2. **手動全文grep**

   ```bash
   # 第三者参照の確認
   grep -rn "ArduPilot\|Rascal\|第三者" --include="*.md" .

   # ライセンス記載確認
   grep -rn "License\|Copyright\|GPL\|MIT" --include="*.md" .

   # 個人情報確認
   grep -rn "xprin\|個人\|password\|token" --include="*.md" .
   ```

3. **コミット履歴確認**

   ```bash
   git log --oneline --all
   # → 不適切なコミットメッセージがないか確認
   ```

4. **チェックリスト作成**
   - LICENSE正確性（該当する場合）
   - README正確性
   - 第三者コンテンツ出典明記
   - 個人情報完全除外
   - コミット履歴適切性

---

## 📋 具体的な禁止事項

### コミットメッセージで禁止

- ❌ 「第三者データ参照なし」
- ❌ 「著作権問題なし」
- ❌ 「〜削除」（問題があったことを示唆）
- ❌ 「修正」（何を修正したか第三者が疑念を抱く）

### 推奨コミットメッセージ

- ✅ 「feat: 記事追加 - JSBSim基礎解説」
- ✅ 「docs: README更新 - プロジェクト概要明確化」
- ✅ 「content: チュートリアル作成 - Excel入力方法」

### ドキュメント記載で禁止

- ❌ 使っていないツール・データの参照方法説明
- ❌ 不確かなライセンス情報（「多分MIT」等）
- ❌ 出典不明の第三者コンテンツ引用

---

## 🔄 緊急時の対処（最悪の場合）

### もし同様の問題が発生したら

1. **即座に作業中断**
2. **ユーザーに報告**
3. **問題の全容把握**（全ファイル精査）
4. **対処方針協議**
   - 軽微な問題: 修正コミット
   - 重大な問題: Git履歴削除の可能性

### Git履歴削除が必要な場合（参考）

```bash
# 注意: これは最終手段。必ずユーザー承認を得ること
rm -rf .git
git init
git add .
git commit -m "適切なメッセージ"
git remote add origin <URL>
git push -u origin main --force
```

---

## 📞 不明点がある場合の対処

**原則**: 不明な場合は作業を中断し、ユーザーに確認

| 状況 | 対処 |
|------|------|
| 第三者コンテンツのライセンスが不明 | **使用しない**。ユーザーに確認。 |
| 引用範囲が曖昧 | **引用しない**。オリジナルで執筆。 |
| コミットメッセージに自信がない | **コミットしない**。ユーザーに確認。 |
| LICENSE記載が必要か不明 | **ユーザーに確認**。勝手に判断しない。 |

---

## 📚 関連ドキュメント

- [PROJECT_RULES.md](../project-management/PROJECT_RULES.md) - プロジェクト厳守ルール（詳細版）
- [ONBOARDING_GUIDE.md](../project-management/ONBOARDING_GUIDE.md) - 新規セッション向けガイド
- [REFERENCE_MAP.md](../project-management/REFERENCE_MAP.md) - 利用可能な資産

**元資料**:

- `C:\Users\xprin\github\tech-research-portfolio\...\CRITICAL_FAILURE_REPORT_GITHUB_PUBLICATION.md`
  - 全373行の詳細報告書
  - 問題の全容、対処の全貌、根本原因分析、再発防止策

---

## ✅ 本ドキュメントを読んだら

以下を確認してください：

- [ ] 2025-10-19の重大不始末の概要を理解した
- [ ] 4つの不始末の内容と根本原因を理解した
- [ ] 5つの教訓を理解した
- [ ] 本プロジェクトでの厳守事項を理解した
- [ ] 禁止事項・推奨事項を理解した
- [ ] 不明点がある場合の対処を理解した

**すべてチェックできたら、[PROJECT_RULES.md](../project-management/PROJECT_RULES.md)を読んでください。**

---

**作成者**: Claude Code (Sonnet 4.5)
**作成日**: 2025-10-20
**元資料**: CRITICAL_FAILURE_REPORT_GITHUB_PUBLICATION.md（2025-10-19作成）
**最終更新**: 2025-10-20

**同じ過ちを二度と繰り返さない。**
